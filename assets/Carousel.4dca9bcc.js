import{_ as A,u as E,i as H,g as n,h as O,j as b,k as V,o as I,c as B,f as m,l as X,e as r,m as q,n as W,p as M}from"./index.51112cdb.js";const D=(p,x=1e3)=>{let s=null;return(...h)=>{clearTimeout(s),s=setTimeout(()=>p(...h),x)}};const F=["data-active"],G={class:"controls"},J=["data-hidden"],K=["data-hidden"],P={props:{overlay:{type:Boolean,default:!1},overrideIndex:{type:Number,default:void 0},rotate:{type:Boolean,default:!1},rotationTime:{type:Number,default:8e3}},emits:["rotate"],setup(p,{emit:x}){const s=p,h=E(),N=H("navigationHovered"),i=n(),_=n(),a=n(0),S=n(0),v=n(!1),d=n(0),C=n(0),f=n(!1),u=n(!1),o=O(()=>{var e,t;return(t=(e=_.value)==null?void 0:e.querySelectorAll(":scope > :not(:last-child)"))!=null?t:[]}),L=new ResizeObserver(e=>{var t;return d.value=(t=e[0].contentBoxSize.inlineSize)!=null?t:e[0].contentBoxSize[0].inlineSize});let c=!1,g=null;const y=()=>{u.value=!1,c=!1,clearTimeout(g),g=!1},R=e=>{i.value&&(C.value=e.clientX-i.value.offsetLeft)},z=()=>{if(u.value=!1,c=!1,f.value=!0,a.value>=o.value.length-1)return void(a.value=0);a.value++},j=()=>{if(u.value=!1,c=!1,f.value=!0,a.value<=0)return void(a.value=o.value.length-1);a.value--},w=D(()=>{if(f.value)return void(f.value=!1);for(let e in o.value){const t=o.value[e];if(e=Number(e),Math.abs(_.value.scrollLeft-t.offsetLeft)<=.5*t.offsetWidth){a.value!=e&&(a.value=e),y(),k();break}}},50),k=(e=s.rotationTime+50)=>{typeof s.overrideIndex!="number"&&(g=setTimeout(()=>{u.value=!0,g=null},e))};return b(a,(e,t)=>{var l,T,$;e!=t&&(x("rotate",{index:e,target:o.value[e]}),($=_.value)==null||$.scrollTo({behavior:"smooth",left:(T=(l=o.value[e])==null?void 0:l.offsetLeft)!=null?T:0}))}),b(v,e=>{!e&&c&&(y(),k(1e3))}),b([v,u,()=>s.rotate],([e,t,l])=>{if(e){u.value=!1,c=!0;return}t&&l&&(u.value=!1,z())}),b(()=>s.overrideIndex,e=>{typeof e=="number"&&(y(),e>=0&&e<o.value.length&&(a.value=e))}),V(()=>{L.observe(i.value),k(),setTimeout(()=>{console.log(d.value,o.value[o.value.length-1].offsetWidth),S.value=d.value>o.value[o.value.length-1].offsetWidth?d.value-o.value[o.value.length-1].offsetWidth:0},50)}),(e,t)=>(I(),B("div",{"data-component":"Carousel",ref_key:"root",ref:i,style:W({"--Carousel-background-color":m(h).background,"--Carousel-inline-size":`${d.value}px`,"--Carousel-text-color":m(h).text}),onMousemove:R,onMouseleave:t[3]||(t[3]=l=>{v.value=!1}),onMouseover:t[4]||(t[4]=l=>{v.value=!0})},[p.overlay?(I(),B("div",{key:0,class:"overlay","data-active":m(N)||void 0},null,8,F)):X("",!0),r("div",{class:"images",ref_key:"images",ref:_,onScroll:t[0]||(t[0]=l=>{y(),m(w)()}),onWheel:t[1]||(t[1]=l=>{f.value=!1}),onTouchmove:t[2]||(t[2]=l=>{f.value=!1})},[q(e.$slots,"default",{},void 0,!0),r("div",{class:"images__cork",style:W({"inline-size":`${S.value}px`})},null,4)],544),r("div",G,[r("button",{class:"controls__button","data-left":"","data-hidden":!v.value||C.value>=i.value.offsetWidth/2||void 0,onClick:j},[r("span",{class:M(["feather",`feather-chevron-${a.value==0?"right":"left"}`])},null,2)],8,J),r("button",{class:"controls__button","data-hidden":!v.value||C.value<i.value.offsetWidth/2||void 0,"data-right":"",onClick:z},[r("span",{class:M(["feather",`feather-chevron-${a.value==m(o).length-1?"left":"right"}`])},null,2)],8,K)])],36))}};var U=A(P,[["__scopeId","data-v-c7064876"]]);export{U as C};
